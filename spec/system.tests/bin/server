require 'drb/drb'

port = 9999

uri="druby://127.0.0.1:#{port}"

class TimeServer
  def get_current_time
    return Time.now
  end
end

FRONT_OBJECT=TimeServer.new

$SAFE = 1

DRb.start_service(uri, FRONT_OBJECT)

puts "Server has started on port <#{port}>, thread <#{DRb.thread.inspect}>"

# Wait for the drb server thread to finish before exiting.
DRb.thread.join